// ZombieFactory
// 붙여넣기

let abi = [{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"zombieId","type":"uint256"},{"indexed":false,"internalType":"string","name":"name","type":"string"},{"indexed":false,"internalType":"uint256","name":"dna","type":"uint256"}],"name":"NewZombie","type":"event"},{"inputs":[{"internalType":"uint256","name":"_message","type":"uint256"}],"name":"console","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"string","name":"_name","type":"string"}],"name":"createRandomZombie","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"zombieToOwner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"zombies","outputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"uint256","name":"dna","type":"uint256"}],"stateMutability":"view","type":"function"}]

let bytecode = '0x60806040526010600081905561001690600a610127565b60015534801561002557600080fd5b5061013a565b634e487b7160e01b600052601160045260246000fd5b600181815b8085111561007c5781600019048211156100625761006261002b565b8085161561006f57918102915b93841c9390800290610046565b509250929050565b60008261009357506001610121565b816100a057506000610121565b81600181146100b657600281146100c0576100dc565b6001915050610121565b60ff8411156100d1576100d161002b565b50506001821b610121565b5060208310610133831016604e8410600b84101617156100ff575081810a610121565b6101098383610041565b806000190482111561011d5761011d61002b565b0290505b92915050565b60006101338383610084565b9392505050565b61064b806101496000396000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c80632052465e14610051578063528b7b8f1461007b5780637bff0a01146100bc578063d0f3951b146100d1575b600080fd5b61006461005f3660046103d0565b6100f0565b604051610072929190610445565b60405180910390f35b6100a46100893660046103d0565b6003602052600090815260409020546001600160a01b031681565b6040516001600160a01b039091168152602001610072565b6100cf6100ca36600461047d565b6101ac565b005b6100e26100df3660046103d0565b90565b604051908152602001610072565b6002818154811061010057600080fd5b90600052602060002090600202016000915090508060000180546101239061052e565b80601f016020809104026020016040519081016040528092919081815260200182805461014f9061052e565b801561019c5780601f106101715761010080835404028352916020019161019c565b820191906000526020600020905b81548152906001019060200180831161017f57829003601f168201915b5050505050908060010154905082565b33600090815260046020526040902054156101c657600080fd5b60006101d1826101f8565b90506101de606482610568565b6101e890826105a0565b90506101f4828261023c565b5050565b6000808260405160200161020c91906105b7565b6040516020818303038152906040528051906020012060001c9050600154816102359190610568565b9392505050565b60408051808201909152828152602080820183905260028054600181018255600082905283518051919092027f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace0192610299928492910190610337565b50602091909101516001918201556002546000916102b6916105a0565b600081815260036020908152604080832080546001600160a01b031916339081179091558352600490915281208054929350906102f2836105d3565b91905055507f88f026aacbbecc90c18411df4b1185fd8d9be2470f1962f192bf84a27d0704b781848460405161032a939291906105ec565b60405180910390a1505050565b8280546103439061052e565b90600052602060002090601f01602090048101928261036557600085556103ab565b82601f1061037e57805160ff19168380011785556103ab565b828001600101855582156103ab579182015b828111156103ab578251825591602001919060010190610390565b506103b79291506103bb565b5090565b5b808211156103b757600081556001016103bc565b6000602082840312156103e257600080fd5b5035919050565b60005b838110156104045781810151838201526020016103ec565b83811115610413576000848401525b50505050565b600081518084526104318160208601602086016103e9565b601f01601f19169290920160200192915050565b6040815260006104586040830185610419565b90508260208301529392505050565b634e487b7160e01b600052604160045260246000fd5b60006020828403121561048f57600080fd5b813567ffffffffffffffff808211156104a757600080fd5b818401915084601f8301126104bb57600080fd5b8135818111156104cd576104cd610467565b604051601f8201601f19908116603f011681019083821181831017156104f5576104f5610467565b8160405282815287602084870101111561050e57600080fd5b826020860160208301376000928101602001929092525095945050505050565b600181811c9082168061054257607f821691505b60208210810361056257634e487b7160e01b600052602260045260246000fd5b50919050565b60008261058557634e487b7160e01b600052601260045260246000fd5b500690565b634e487b7160e01b600052601160045260246000fd5b6000828210156105b2576105b261058a565b500390565b600082516105c98184602087016103e9565b9190910192915050565b6000600182016105e5576105e561058a565b5060010190565b8381526060602082015260006106056060830185610419565b905082604083015294935050505056fea26469706673582212202f6ad231f6cc8a0e0a117467bccf0324bc6b94a8f48a5c180cec0374964a390f64736f6c634300080e0033'

let zombieContractFactory = web3.eth.contract(abi);

let zombieContractInstance = zombieContractFactory.new({
    from:web3.eth.accounts[0],
    data:bytecode,
    gas:'3000000'
},function (e, contract) {
    console.log(e, contract);
    if(typeof contract.address !== undefined){
        console.log("Contract mined, contract address : ", contract.address + " transactionHash : ", contract.transactionHash)
    }
})



